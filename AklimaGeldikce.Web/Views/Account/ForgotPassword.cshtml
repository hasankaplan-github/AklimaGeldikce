
@{
    ViewData["Title"] = "ForgotPassword";
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}

<!-- /.login-logo -->
<div class="login-box-body">
    <p class="login-box-msg">Şifremi unuttum</p>
    
        <div class="form-group has-feedback">
            <input id="Username" type="text" class="form-control" placeholder="Kullanıcı Adı">
            <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
        </div>

        <div class="row">
            <div class="col-xs-6">
                <button id="SendEmailButton" class="btn btn-primary btn-block btn-flat">Eposta Gönder</button>
            </div>
            <!-- /.col -->
        </div>
    
    @*
        <div class="social-auth-links text-center">
            <p>- OR -</p>
            <a href="#" class="btn btn-block btn-social btn-facebook btn-flat">
                <i class="fa fa-facebook"></i> Sign in using
                Facebook
            </a>
            <a href="#" class="btn btn-block btn-social btn-google btn-flat">
                <i class="fa fa-google-plus"></i> Sign in using
                Google+
            </a>
        </div>
        <!-- /.social-auth-links -->
    *@
    @*
        <a href="#">Şifremi unuttum</a><br>
        <a href="register.html" class="text-center">Yeni üyelik oluştur</a>
    *@
</div>
<!-- /.login-box-body -->

@section Scripts{ 
    <script type="text/javascript">

        $(document).ready(function () {
            $("#SendEmailButton").click(function () {
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("SendRenewPasswordEmail", "Account")',
                    cache: false,
                    data: { username: $("#Username").val() },
                    dataType: 'json',
                    //contentType: false,
                    //processData: false,
                    success: function (data, textStatus, jqXHR) {
                        alert(data.message);
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        alert("Hata oluştu, lütfen tekrar deneyin." + errorThrown + textStatus);
                    }
                });
            });
        })
    
    </script>
}